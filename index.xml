<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ryan Porter's IT Resume</title><link>/</link><description>Recent content on Ryan Porter's IT Resume</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>Copyright 2023 Ryan Porter</copyright><lastBuildDate>Fri, 13 Dec 2024 00:00:00 +0000</lastBuildDate><atom:link href="/index.xml" rel="self" type="application/rss+xml"/><item><title>Cloudflare Update and Various Fixes</title><link>/posts/cloudflare-update/</link><pubDate>Fri, 13 Dec 2024 00:00:00 +0000</pubDate><guid>/posts/cloudflare-update/</guid><description>&lt;p>After unwisely heeding the prompts to migrate from Azure CDN to Azure Front Door, I exposed myself to massive costs. The fix (and a coincidental anniversary) caused a cascade of other bugs in my deployment pipeline. Here&amp;rsquo;s what happened and how I fixed it.&lt;/p>
&lt;p>Previously, &lt;a href="https://www.techno-literate.com/posts/switching-to-cloudflare-dns/">I switched from Wordpress.com to Cloudflare&lt;/a> as my domain registrar and DNS provider. Not long after, I read one of the pop-up messages in the Azure Portal encouraging me to migrate from Azure CDN, which is sunsetting in 2027, to Azure Front Door, which is the latest and greatest content delivery service in Azure. Foolishly, I went ahead with the migration without researching the associated costs. Fellow Cloud Resume Challengers should take heed: Front Door has a monthly base cost of $30, or $360 per year! As soon as I realized that, I deleted Front Door and instead shifted entirely to Cloudflare, which offers content delivery by default with its free tier.&lt;/p></description><content>&lt;p>After unwisely heeding the prompts to migrate from Azure CDN to Azure Front Door, I exposed myself to massive costs. The fix (and a coincidental anniversary) caused a cascade of other bugs in my deployment pipeline. Here&amp;rsquo;s what happened and how I fixed it.&lt;/p>
&lt;p>Previously, &lt;a href="https://www.techno-literate.com/posts/switching-to-cloudflare-dns/">I switched from Wordpress.com to Cloudflare&lt;/a> as my domain registrar and DNS provider. Not long after, I read one of the pop-up messages in the Azure Portal encouraging me to migrate from Azure CDN, which is sunsetting in 2027, to Azure Front Door, which is the latest and greatest content delivery service in Azure. Foolishly, I went ahead with the migration without researching the associated costs. Fellow Cloud Resume Challengers should take heed: Front Door has a monthly base cost of $30, or $360 per year! As soon as I realized that, I deleted Front Door and instead shifted entirely to Cloudflare, which offers content delivery by default with its free tier.&lt;/p>
&lt;p>&lt;strong>Issues to be aware of&lt;/strong>
When you stop using an Azure CDN solution (either Azure CDN or Azure Front Door), Azure&amp;rsquo;s TLS certificates will no longer be associated with your domain, but will instead only cover the default domain for your storage account (*.web.core.windows.net). Visitors to your website will get an error and won&amp;rsquo;t be able to view your site at all. This is solved by enabling proxying on Cloudflare for your domain:&lt;/p>
&lt;p>&lt;img alt="Cloudflare proxy settings" src="img/cloudflare-proxy.png">&lt;/p>
&lt;p>If you choose to change your custom domain name in your Storage Account settings, you may have trouble verifying it while the proxying is enabled. You can turn off proxying long enough for the validation to complete, then turn it back on in the Cloudflare dashboard (same place as the above image, in the DNS Records section).&lt;/p>
&lt;p>Did I mention an unfortunate anniversary? Right as I began to address the Front Door issue and update my Terraform code, my access keys in Azure expired. It was a bit of a nightmare to identify which ones I specifically needed to refresh, so I suggest that if you encounter a similar issue, that you label the secret keys in an obvious way.&lt;/p>
&lt;p>Everything is working now, and I can&amp;rsquo;t express how good it feels to tackle this challenge and finally get a positive result!&lt;/p></content></item><item><title>Switching to Cloudflare DNS</title><link>/posts/switching-to-cloudflare-dns/</link><pubDate>Fri, 15 Nov 2024 00:00:00 +0000</pubDate><guid>/posts/switching-to-cloudflare-dns/</guid><description>&lt;p>In an effort to reduce expenses and enhance my web presence, I have switched to Cloudflare DNS. I will be saving about $10 on domain registration and close to $50 annually when I wind down my WordPress blog, which I haven&amp;rsquo;t updated in over a year.&lt;/p>
&lt;p>&lt;a href="https://blog.cloudflare.com/a-step-by-step-guide-to-transferring-domains-to-cloudflare/">Cloudflare has excellent instructions&lt;/a> for transferring domains to their DNS service, and &lt;a href="https://wordpress.com/support/domains/transfer-domain-registration/">WordPress has a similarly useful article&lt;/a>, but I thought I&amp;rsquo;d share the specific steps I took to transfer techno-literate.org away from WordPress.com. I regret neglecting to take screenshots of the process, but I&amp;rsquo;ll describe it here for you.&lt;/p></description><content>&lt;p>In an effort to reduce expenses and enhance my web presence, I have switched to Cloudflare DNS. I will be saving about $10 on domain registration and close to $50 annually when I wind down my WordPress blog, which I haven&amp;rsquo;t updated in over a year.&lt;/p>
&lt;p>&lt;a href="https://blog.cloudflare.com/a-step-by-step-guide-to-transferring-domains-to-cloudflare/">Cloudflare has excellent instructions&lt;/a> for transferring domains to their DNS service, and &lt;a href="https://wordpress.com/support/domains/transfer-domain-registration/">WordPress has a similarly useful article&lt;/a>, but I thought I&amp;rsquo;d share the specific steps I took to transfer techno-literate.org away from WordPress.com. I regret neglecting to take screenshots of the process, but I&amp;rsquo;ll describe it here for you.&lt;/p>
&lt;ol>
&lt;li>Make note of your existing DNS records on WordPress.com. Cloudflare can scan for DNS records, but when I did this it completely missed my &amp;ldquo;resume&amp;rdquo; subdomain, and I had to manually add it later.&lt;/li>
&lt;li>On WordPress.com, go to Upgrades &amp;gt; Domains and select the domain you are transferring. On the right, under &amp;ldquo;Transfer this domain&amp;rdquo;, click &amp;ldquo;Transfer&amp;rdquo;.&lt;/li>
&lt;li>Click the toggle switch to disable the transfer lock. This is a feature that helps prevent people from accidentally transferring away their domains.&lt;/li>
&lt;li>Click the button to get your authorization code. Without this code, you will be unable to finalize the transfer with Cloudflare. The code will be sent to the email address on your WordPress.com account, and will take 15-30 minutes to arrive. &lt;strong>Keep this tab open.&lt;/strong>&lt;/li>
&lt;li>On another tab, go to &lt;a href="cloudflare.com">cloudflare.com&lt;/a> and create a Cloudflare account, if you don&amp;rsquo;t already have one.&lt;/li>
&lt;li>Go to the Cloudflare dashboard (&lt;a href="https://dash.cloudflare.com/">https://dash.cloudflare.com/&lt;/a>) and click &amp;ldquo;+ Add a Domain&amp;rdquo;. Follow the prompts; I found this part of the process to be very straightforward. There is an option to automatically detect your existing DNS records, and I recommend using that and then taking note of any records that it might have missed. The free plan was good enough for my purposes. &lt;strong>Note: The plan you are selecting now is not your domain registration plan!&lt;/strong> You are selecting what level of DNS services you want here. You will pay for domain registration through Cloudflare later.&lt;/li>
&lt;li>Cloudflare will assign you two nameservers. On your WordPress.com tab, go to Upgrades &amp;gt; Domains and open the Nameservers section. Paste in the two nameservers from Cloudflare. This step is important because within a short while Cloudflare can start hosting DNS requests for your domain &lt;em>before the transfer is complete.&lt;/em> If you don&amp;rsquo;t do this, you could experience disruption in access while the transfer goes through.&lt;/li>
&lt;li>Once Cloudflare detects that the nameservers for your domain have been updated, you can go to the &lt;a href="https://dash.cloudflare.com/?to=/:account/domains/transfer">Transfer Domains page&lt;/a> to initiate the domain transfer process. You will be prompted to select your domain and paste in your transfer authorization code that you received in an email from WordPress.com.&lt;/li>
&lt;li>Select a payment method and pay your registration fee.&lt;/li>
&lt;li>You will receive an email from WordPress.com with the subject line, &amp;ldquo;Transfer away request for the domain techno-literate.com&amp;rdquo;. There is a link to the Transfer Management Page for your domain; click this link and then click the &amp;ldquo;Accept Transfer&amp;rdquo; button to approve the transfer request.&lt;/li>
&lt;li>You are done! Cloudflare will send you a helpful email to confirm that your transfer is complete.&lt;/li>
&lt;/ol>
&lt;p>Being totally honest, I have never transferred a domain to a new registrar before, and expected the process to be much more involved. Thanks to a lot of good documentation by both WordPress.com and Cloudflare, it was a breeze.&lt;/p></content></item><item><title>Frontend Automation</title><link>/posts/frontend-automation/</link><pubDate>Wed, 22 Nov 2023 00:00:00 +0000</pubDate><guid>/posts/frontend-automation/</guid><description>&lt;p>I&amp;rsquo;ve completed the DevOps mod for Chunk 1 of the Cloud Resume Challenge. I&amp;rsquo;ve learned so much, especially that there are still things I don&amp;rsquo;t know, and I&amp;rsquo;m excited to continue this project and learn a lot more!&lt;/p>
&lt;p>Here is what I accomplished in this chunk:&lt;/p>
&lt;ol>
&lt;li>I created a static website using the &lt;a href="https://gohugo.io">Hugo static site generator&lt;/a>.&lt;/li>
&lt;li>I hosted the site using &lt;a href="https://learn.microsoft.com/en-us/azure/storage/common/storage-introduction">Azure Storage&lt;/a> and &lt;a href="https://learn.microsoft.com/en-us/azure/frontdoor/">Azure CDN&lt;/a>.&lt;/li>
&lt;li>I created a basic workflow using &lt;a href="https://github.com/features/actions">GitHub Actions&lt;/a>, including:
&lt;ul>
&lt;li>Deploy Azure infrastructure using Terraform,&lt;/li>
&lt;li>Build the Hugo static site each time I push a change to my repository,&lt;/li>
&lt;li>Upload the new website files to Azure Storage, and&lt;/li>
&lt;li>Clear the Azure CDN cache.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>I built a simple test battery using Cypress and appended it to the GitHub Actions workflow.&lt;/li>
&lt;/ol>
&lt;h2 id="challenges">Challenges&lt;/h2>
&lt;h3 id="uploading-files">Uploading Files&lt;/h3>
&lt;p>The first major challenge that I had to overcome was automating the uploading of my website files. I &lt;em>struggled&lt;/em> to get this working, constantly getting this error:&lt;/p></description><content>&lt;p>I&amp;rsquo;ve completed the DevOps mod for Chunk 1 of the Cloud Resume Challenge. I&amp;rsquo;ve learned so much, especially that there are still things I don&amp;rsquo;t know, and I&amp;rsquo;m excited to continue this project and learn a lot more!&lt;/p>
&lt;p>Here is what I accomplished in this chunk:&lt;/p>
&lt;ol>
&lt;li>I created a static website using the &lt;a href="https://gohugo.io">Hugo static site generator&lt;/a>.&lt;/li>
&lt;li>I hosted the site using &lt;a href="https://learn.microsoft.com/en-us/azure/storage/common/storage-introduction">Azure Storage&lt;/a> and &lt;a href="https://learn.microsoft.com/en-us/azure/frontdoor/">Azure CDN&lt;/a>.&lt;/li>
&lt;li>I created a basic workflow using &lt;a href="https://github.com/features/actions">GitHub Actions&lt;/a>, including:
&lt;ul>
&lt;li>Deploy Azure infrastructure using Terraform,&lt;/li>
&lt;li>Build the Hugo static site each time I push a change to my repository,&lt;/li>
&lt;li>Upload the new website files to Azure Storage, and&lt;/li>
&lt;li>Clear the Azure CDN cache.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>I built a simple test battery using Cypress and appended it to the GitHub Actions workflow.&lt;/li>
&lt;/ol>
&lt;h2 id="challenges">Challenges&lt;/h2>
&lt;h3 id="uploading-files">Uploading Files&lt;/h3>
&lt;p>The first major challenge that I had to overcome was automating the uploading of my website files. I &lt;em>struggled&lt;/em> to get this working, constantly getting this error:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ERROR: incorrect usage: source must be an existing directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The solution was that I had to get my permissions straight for GitHub Actions and in Azure. On the Azure side, the security principle I created for automation needed to have Contributor permissions, and on GitHub, workflow permissions needed to be read and write, &amp;ldquo;Allow GitHub to create and approve pull requests&amp;rdquo; had to be checked, and my fine-grained personal access token needed to also be given read and write access to code.&lt;/p>
&lt;h3 id="cypress-testing">Cypress Testing&lt;/h3>
&lt;p>Configuring Cypress testing was much more difficult to figure out. I though I had it set up in GitHub Actions correctly, but every time I ran the workflow I would get one of various errors, including the following:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>Cannot find module &lt;span style="color:#e6db74">&amp;#39;cypress&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Require stack:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- /home/runner/work/_actions/cypress-io/github-action/v6/dist/index.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>Action failed. Missing package manager lockfile. Expecting one of package-lock.json &lt;span style="color:#f92672">(&lt;/span>npm&lt;span style="color:#f92672">)&lt;/span>, pnpm-lock.yaml &lt;span style="color:#f92672">(&lt;/span>pnpm&lt;span style="color:#f92672">)&lt;/span> or yarn.lock &lt;span style="color:#f92672">(&lt;/span>yarn&lt;span style="color:#f92672">)&lt;/span> in working-directory /home/runner/work/techno-literate-blog/techno-literate-blog
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>I&amp;rsquo;m sure some of you reading this can already see the problem, but it wasn&amp;rsquo;t obvious to me and I didn&amp;rsquo;t find any documentation that directly stated what the cause was. In short, &lt;em>I hadn&amp;rsquo;t actually installed Cypress!&lt;/em> The first step was to install Node.js locally, and run &lt;code>npm init&lt;/code> in my local git repository. Then, I was able to use &lt;code>npm install cypress --save-dev&lt;/code> to properly install Cypress.&lt;/p>
&lt;p>Cypress appears to be quite powerful and capable, and I&amp;rsquo;m not sure I&amp;rsquo;ve entirely wrapped my brain around it yet. I wanted my Cypress tests to just loop through my website and run on every single page, but I don&amp;rsquo;t think that is how the software is intended to be used. I finally ended up making a couple very specific tests to run every time I update the site: First, make sure every page in the sitemap generated by Hugo is accessible, and second, make sure CSS is rendering properly on the home page (a problem I had with Hugo early on).&lt;/p>
&lt;h2 id="final-thoughts-and-code">Final Thoughts and Code&lt;/h2>
&lt;p>I&amp;rsquo;m very proud of myself for getting through this chunk, and especially for tackling the optional DevOps mod. As I stated before, I can tell that there are still many things for me to learn, but I feel much more confident in my ability to do so after successfully getting this site online!&lt;/p>
&lt;p>&lt;strong>Here is the most important code from this chunk.&lt;/strong>&lt;/p>
&lt;h4 id="github-actions-workflow">Github Actions workflow&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">CI/CD Release Pipeline&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">on&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">push&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">branches&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">main&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">jobs&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">terraform&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;Terraform&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">env&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ARM_CLIENT_ID&lt;/span>: &lt;span style="color:#ae81ff">${{ secrets.AZURE_TF_CLIENT_ID }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ARM_CLIENT_SECRET&lt;/span>: &lt;span style="color:#ae81ff">${{ secrets.AZURE_TF_CLIENT_SECRET }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ARM_SUBSCRIPTION_ID&lt;/span>: &lt;span style="color:#ae81ff">${{ secrets.AZURE_SUBSCRIPTION_ID }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ARM_TENANT_ID&lt;/span>: &lt;span style="color:#ae81ff">${{ secrets.AZURE_TF_TENANT_ID }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">TF_VERSION&lt;/span>: &lt;span style="color:#ae81ff">1.6.4&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">runs-on&lt;/span>: &lt;span style="color:#ae81ff">ubuntu-latest&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">environment&lt;/span>: &lt;span style="color:#ae81ff">production&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">defaults&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">shell&lt;/span>: &lt;span style="color:#ae81ff">bash&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">working-directory&lt;/span>: &lt;span style="color:#ae81ff">./terraform&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">steps&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Checkout&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">actions/checkout@v4&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;Setup Terraform&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">hashicorp/setup-terraform@v2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">terraform_version&lt;/span>: &lt;span style="color:#ae81ff">${{ env.TF_VERSION }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;Terraform fmt&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">id&lt;/span>: &lt;span style="color:#ae81ff">fmt&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>: &lt;span style="color:#ae81ff">terraform fmt -check&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;Terraform init&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">id&lt;/span>: &lt;span style="color:#ae81ff">init&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>: |&lt;span style="color:#e6db74">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> set -a
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> source ../.env.backend
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> terraform init \
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> -backend-config=&amp;#34;resource_group_name=$TF_VAR_state_resource_group_name&amp;#34; \
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> -backend-config=&amp;#34;storage_account_name=$TF_VAR_state_storage_account_name&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Terraform validate&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">id&lt;/span>: &lt;span style="color:#ae81ff">validate&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>: &lt;span style="color:#ae81ff">terraform validate -no-color&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Terraform Plan&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">id&lt;/span>: &lt;span style="color:#ae81ff">plan&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>: &lt;span style="color:#ae81ff">terraform plan -no-color -var-file=&amp;#34;variables.tfvars&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Terraform apply&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">id&lt;/span>: &lt;span style="color:#ae81ff">apply&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>: &lt;span style="color:#ae81ff">terraform apply -auto-approve -var-file=&amp;#34;variables.tfvars&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">build-hugo&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">runs-on&lt;/span>: &lt;span style="color:#ae81ff">ubuntu-latest&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">needs&lt;/span>: &lt;span style="color:#ae81ff">terraform&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">concurrency&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">group&lt;/span>: &lt;span style="color:#ae81ff">${{ github.workflow }}-${{ github.ref }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">permissions&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">contents&lt;/span>: &lt;span style="color:#ae81ff">write&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">steps&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Git Checkout&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">actions/checkout@v4&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">submodules&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">fetch-depth&lt;/span>: &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">token&lt;/span>: &lt;span style="color:#ae81ff">${{ secrets.TOKEN }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Setup Hugo&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">peaceiris/actions-hugo@v2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hugo-version&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;latest&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">extended&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Build Project&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>: &lt;span style="color:#ae81ff">hugo --minify&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Release Assets&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">peaceiris/actions-gh-pages@v3&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">if&lt;/span>: &lt;span style="color:#ae81ff">github.ref == &amp;#39;refs/heads/main&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">personal_token&lt;/span>: &lt;span style="color:#ae81ff">${{ secrets.TOKEN }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">publish_dir&lt;/span>: &lt;span style="color:#ae81ff">./public&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Azure Login&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">azure/login@v1.1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">creds&lt;/span>: &lt;span style="color:#ae81ff">${{ secrets.AZURE_CREDENTIALS }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Upload to Azure Storage&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">azure/CLI@v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">inlineScript&lt;/span>: |&lt;span style="color:#e6db74">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> az storage blob upload-batch -d &amp;#34;\$web&amp;#34; -s ./public --connection-string &amp;#34;${{ secrets.AZURE_STORAGE_CONNECTION_STRING }}&amp;#34; --overwrite true
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Purge Azure CDN Resources&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">az cdn endpoint purge -n ${{ secrets.AZURE_CDN_ENDPOINT }} --profile-name ${{ secrets.AZURE_CDN_PROFILE_NAME }} --content-paths &amp;#34;/*&amp;#34; --resource-group ${{ secrets.AZURE_RESOURCE_GROUP }} --no-wait&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Dispose Azure Service Principal Session&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>: |&lt;span style="color:#e6db74">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74"> az logout&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">cypress-run&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Cypress run&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">needs&lt;/span>: &lt;span style="color:#ae81ff">build-hugo&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">runs-on&lt;/span>: &lt;span style="color:#ae81ff">ubuntu-latest&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">steps&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Checkout&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">actions/checkout@v4&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Cypress run&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">cypress-io/github-action@v6&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="terraform-configuration">Terraform Configuration&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#960050;background-color:#1e0010">resource&lt;/span> &lt;span style="color:#e6db74">&amp;#34;azurerm_resource_group&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;res-0&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">location&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#f92672">&amp;#34;westus2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;production_storage&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#960050;background-color:#1e0010">resource&lt;/span> &lt;span style="color:#e6db74">&amp;#34;azurerm_cdn_endpoint_custom_domain&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;res-1&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">cdn_endpoint_id&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">var.endpoint_id&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">host_name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">var.domain_name&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#f92672">&amp;#34;resume-techno-literate-com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">cdn_managed_https&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">certificate_type&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#f92672">&amp;#34;Dedicated&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">protocol_type&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;ServerNameIndication&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">depends_on&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> [
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">azurerm_cdn_endpoint.res&lt;/span>&lt;span style="color:#ae81ff">-10&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#960050;background-color:#1e0010">resource&lt;/span> &lt;span style="color:#e6db74">&amp;#34;azurerm_storage_account&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;res-3&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">account_replication_type&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#f92672">&amp;#34;LRS&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">account_tier&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;Standard&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">allow_nested_items_to_be_public&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#66d9ef">false&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">cross_tenant_replication_enabled&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#66d9ef">false&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">location&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;westus2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;tlprodstore&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">resource_group_name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;production_storage&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">custom_domain&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#f92672">&amp;#34;resume.techno-literate.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">static_website&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">error_404_document&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#f92672">&amp;#34;404.html&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">index_document&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;index.html&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#960050;background-color:#1e0010">resource&lt;/span> &lt;span style="color:#e6db74">&amp;#34;azurerm_storage_container&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;res-5&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#f92672">&amp;#34;$web&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">storage_account_name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;tlprodstore&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#960050;background-color:#1e0010">resource&lt;/span> &lt;span style="color:#e6db74">&amp;#34;azurerm_cdn_profile&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;res-9&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">location&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#f92672">&amp;#34;global&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;technoliterate-cdn&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">resource_group_name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;production_storage&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">sku&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;Standard_Microsoft&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#960050;background-color:#1e0010">resource&lt;/span> &lt;span style="color:#e6db74">&amp;#34;azurerm_cdn_endpoint&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;res-10&amp;#34;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">is_compression_enabled&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">location&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#f92672">&amp;#34;global&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;techno-literate-cdn&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">origin_host_header&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">var.endpoint_origin_hostname&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">profile_name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;technoliterate-cdn&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">resource_group_name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;production_storage&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">origin&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">host_name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">var.endpoint_origin_hostname&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">name&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">var.endpoint_origin_name&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">depends_on&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">=&lt;/span> [
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">azurerm_cdn_profile.res&lt;/span>&lt;span style="color:#ae81ff">-9&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="cypress-tests">Cypress Tests&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-javascript" data-lang="javascript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">describe&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;Sitemap Test&amp;#39;&lt;/span>, () =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">let&lt;/span> &lt;span style="color:#a6e22e">urls&lt;/span> &lt;span style="color:#f92672">=&lt;/span> [];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">before&lt;/span>(&lt;span style="color:#66d9ef">async&lt;/span> () =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">response&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">await&lt;/span> &lt;span style="color:#a6e22e">cy&lt;/span>.&lt;span style="color:#a6e22e">request&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;https://resume.techno-literate.com/sitemap.xml&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">urls&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">Cypress&lt;/span>.&lt;span style="color:#a6e22e">$&lt;/span>(&lt;span style="color:#a6e22e">response&lt;/span>.&lt;span style="color:#a6e22e">body&lt;/span>).&lt;span style="color:#a6e22e">find&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;loc&amp;#39;&lt;/span>).&lt;span style="color:#a6e22e">toArray&lt;/span>().&lt;span style="color:#a6e22e">map&lt;/span>(&lt;span style="color:#a6e22e">el&lt;/span> =&amp;gt; &lt;span style="color:#a6e22e">el&lt;/span>.&lt;span style="color:#a6e22e">innerText&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> })
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">it&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;should load each page successfully&amp;#39;&lt;/span>, () =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">urls&lt;/span>.&lt;span style="color:#a6e22e">forEach&lt;/span>(&lt;span style="color:#a6e22e">cy&lt;/span>.&lt;span style="color:#a6e22e">visit&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>});
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">describe&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;CSS test&amp;#39;&lt;/span>, () =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">it&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;should have CSS&amp;#39;&lt;/span>, () =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">cy&lt;/span>.&lt;span style="color:#a6e22e">visit&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;https://resume.techno-literate.com/&amp;#39;&lt;/span>).&lt;span style="color:#a6e22e">get&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;.blue&amp;#39;&lt;/span>).&lt;span style="color:#a6e22e">should&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;have.css&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;background-color&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;rgb(29, 33, 44)&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>});
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></content></item><item><title>Welcome</title><link>/posts/welcome/</link><pubDate>Tue, 14 Nov 2023 11:18:42 -0800</pubDate><guid>/posts/welcome/</guid><description>&lt;h1 id="welcome">Welcome!&lt;/h1>
&lt;p>This is a work-in-progress blog that I am practicing and showcasing my ability to use Microsoft Azure. Please feel free to take a look around, but keep in mind that this is a preliminary version that isn&amp;rsquo;t quite ready yet.&lt;/p></description><content>&lt;h1 id="welcome">Welcome!&lt;/h1>
&lt;p>This is a work-in-progress blog that I am practicing and showcasing my ability to use Microsoft Azure. Please feel free to take a look around, but keep in mind that this is a preliminary version that isn&amp;rsquo;t quite ready yet.&lt;/p></content></item></channel></rss>