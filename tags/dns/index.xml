<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DNS on Ryan Porter's IT Resume</title><link>/tags/dns/</link><description>Recent content in DNS on Ryan Porter's IT Resume</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>Copyright 2023 Ryan Porter</copyright><lastBuildDate>Fri, 13 Dec 2024 00:00:00 +0000</lastBuildDate><atom:link href="/tags/dns/index.xml" rel="self" type="application/rss+xml"/><item><title>Cloudflare Update and Various Fixes</title><link>/posts/cloudflare-update/</link><pubDate>Fri, 13 Dec 2024 00:00:00 +0000</pubDate><guid>/posts/cloudflare-update/</guid><description>&lt;p>After unwisely heeding the prompts to migrate from Azure CDN to Azure Front Door, I exposed myself to massive costs. The fix (and a coincidental anniversary) caused a cascade of other bugs in my deployment pipeline. Here&amp;rsquo;s what happened and how I fixed it.&lt;/p>
&lt;p>Previously, &lt;a href="https://www.techno-literate.com/posts/switching-to-cloudflare-dns/">I switched from Wordpress.com to Cloudflare&lt;/a> as my domain registrar and DNS provider. Not long after, I read one of the pop-up messages in the Azure Portal encouraging me to migrate from Azure CDN, which is sunsetting in 2027, to Azure Front Door, which is the latest and greatest content delivery service in Azure. Foolishly, I went ahead with the migration without researching the associated costs. Fellow Cloud Resume Challengers should take heed: Front Door has a monthly base cost of $30, or $360 per year! As soon as I realized that, I deleted Front Door and instead shifted entirely to Cloudflare, which offers content delivery by default with its free tier.&lt;/p></description><content>&lt;p>After unwisely heeding the prompts to migrate from Azure CDN to Azure Front Door, I exposed myself to massive costs. The fix (and a coincidental anniversary) caused a cascade of other bugs in my deployment pipeline. Here&amp;rsquo;s what happened and how I fixed it.&lt;/p>
&lt;p>Previously, &lt;a href="https://www.techno-literate.com/posts/switching-to-cloudflare-dns/">I switched from Wordpress.com to Cloudflare&lt;/a> as my domain registrar and DNS provider. Not long after, I read one of the pop-up messages in the Azure Portal encouraging me to migrate from Azure CDN, which is sunsetting in 2027, to Azure Front Door, which is the latest and greatest content delivery service in Azure. Foolishly, I went ahead with the migration without researching the associated costs. Fellow Cloud Resume Challengers should take heed: Front Door has a monthly base cost of $30, or $360 per year! As soon as I realized that, I deleted Front Door and instead shifted entirely to Cloudflare, which offers content delivery by default with its free tier.&lt;/p>
&lt;p>&lt;strong>Issues to be aware of&lt;/strong>
When you stop using an Azure CDN solution (either Azure CDN or Azure Front Door), Azure&amp;rsquo;s TLS certificates will no longer be associated with your domain, but will instead only cover the default domain for your storage account (*.web.core.windows.net). Visitors to your website will get an error and won&amp;rsquo;t be able to view your site at all. This is solved by enabling proxying on Cloudflare for your domain:&lt;/p>
&lt;p>&lt;img src="img/cloudflare-proxy.png" alt="Cloudflare proxy settings">&lt;/p>
&lt;p>If you choose to change your custom domain name in your Storage Account settings, you may have trouble verifying it while the proxying is enabled. You can turn off proxying long enough for the validation to complete, then turn it back on in the Cloudflare dashboard (same place as the above image, in the DNS Records section).&lt;/p>
&lt;p>Did I mention an unfortunate anniversary? Right as I began to address the Front Door issue and update my Terraform code, my access keys in Azure expired. It was a bit of a nightmare to identify which ones I specifically needed to refresh, so I suggest that if you encounter a similar issue, that you label the secret keys in an obvious way.&lt;/p>
&lt;p>Everything is working now, and I can&amp;rsquo;t express how good it feels to tackle this challenge and finally get a positive result!&lt;/p></content></item><item><title>Switching to Cloudflare DNS</title><link>/posts/switching-to-cloudflare-dns/</link><pubDate>Fri, 15 Nov 2024 00:00:00 +0000</pubDate><guid>/posts/switching-to-cloudflare-dns/</guid><description>&lt;p>In an effort to reduce expenses and enhance my web presence, I have switched to Cloudflare DNS. I will be saving about $10 on domain registration and close to $50 annually when I wind down my WordPress blog, which I haven&amp;rsquo;t updated in over a year.&lt;/p>
&lt;p>&lt;a href="https://blog.cloudflare.com/a-step-by-step-guide-to-transferring-domains-to-cloudflare/">Cloudflare has excellent instructions&lt;/a> for transferring domains to their DNS service, and &lt;a href="https://wordpress.com/support/domains/transfer-domain-registration/">WordPress has a similarly useful article&lt;/a>, but I thought I&amp;rsquo;d share the specific steps I took to transfer techno-literate.org away from WordPress.com. I regret neglecting to take screenshots of the process, but I&amp;rsquo;ll describe it here for you.&lt;/p></description><content>&lt;p>In an effort to reduce expenses and enhance my web presence, I have switched to Cloudflare DNS. I will be saving about $10 on domain registration and close to $50 annually when I wind down my WordPress blog, which I haven&amp;rsquo;t updated in over a year.&lt;/p>
&lt;p>&lt;a href="https://blog.cloudflare.com/a-step-by-step-guide-to-transferring-domains-to-cloudflare/">Cloudflare has excellent instructions&lt;/a> for transferring domains to their DNS service, and &lt;a href="https://wordpress.com/support/domains/transfer-domain-registration/">WordPress has a similarly useful article&lt;/a>, but I thought I&amp;rsquo;d share the specific steps I took to transfer techno-literate.org away from WordPress.com. I regret neglecting to take screenshots of the process, but I&amp;rsquo;ll describe it here for you.&lt;/p>
&lt;ol>
&lt;li>Make note of your existing DNS records on WordPress.com. Cloudflare can scan for DNS records, but when I did this it completely missed my &amp;ldquo;resume&amp;rdquo; subdomain, and I had to manually add it later.&lt;/li>
&lt;li>On WordPress.com, go to Upgrades &amp;gt; Domains and select the domain you are transferring. On the right, under &amp;ldquo;Transfer this domain&amp;rdquo;, click &amp;ldquo;Transfer&amp;rdquo;.&lt;/li>
&lt;li>Click the toggle switch to disable the transfer lock. This is a feature that helps prevent people from accidentally transferring away their domains.&lt;/li>
&lt;li>Click the button to get your authorization code. Without this code, you will be unable to finalize the transfer with Cloudflare. The code will be sent to the email address on your WordPress.com account, and will take 15-30 minutes to arrive. &lt;strong>Keep this tab open.&lt;/strong>&lt;/li>
&lt;li>On another tab, go to &lt;a href="cloudflare.com">cloudflare.com&lt;/a> and create a Cloudflare account, if you don&amp;rsquo;t already have one.&lt;/li>
&lt;li>Go to the Cloudflare dashboard (&lt;a href="https://dash.cloudflare.com/">https://dash.cloudflare.com/&lt;/a>) and click &amp;ldquo;+ Add a Domain&amp;rdquo;. Follow the prompts; I found this part of the process to be very straightforward. There is an option to automatically detect your existing DNS records, and I recommend using that and then taking note of any records that it might have missed. The free plan was good enough for my purposes. &lt;strong>Note: The plan you are selecting now is not your domain registration plan!&lt;/strong> You are selecting what level of DNS services you want here. You will pay for domain registration through Cloudflare later.&lt;/li>
&lt;li>Cloudflare will assign you two nameservers. On your WordPress.com tab, go to Upgrades &amp;gt; Domains and open the Nameservers section. Paste in the two nameservers from Cloudflare. This step is important because within a short while Cloudflare can start hosting DNS requests for your domain &lt;em>before the transfer is complete.&lt;/em> If you don&amp;rsquo;t do this, you could experience disruption in access while the transfer goes through.&lt;/li>
&lt;li>Once Cloudflare detects that the nameservers for your domain have been updated, you can go to the &lt;a href="https://dash.cloudflare.com/?to=/:account/domains/transfer">Transfer Domains page&lt;/a> to initiate the domain transfer process. You will be prompted to select your domain and paste in your transfer authorization code that you received in an email from WordPress.com.&lt;/li>
&lt;li>Select a payment method and pay your registration fee.&lt;/li>
&lt;li>You will receive an email from WordPress.com with the subject line, &amp;ldquo;Transfer away request for the domain techno-literate.com&amp;rdquo;. There is a link to the Transfer Management Page for your domain; click this link and then click the &amp;ldquo;Accept Transfer&amp;rdquo; button to approve the transfer request.&lt;/li>
&lt;li>You are done! Cloudflare will send you a helpful email to confirm that your transfer is complete.&lt;/li>
&lt;/ol>
&lt;p>Being totally honest, I have never transferred a domain to a new registrar before, and expected the process to be much more involved. Thanks to a lot of good documentation by both WordPress.com and Cloudflare, it was a breeze.&lt;/p></content></item></channel></rss>